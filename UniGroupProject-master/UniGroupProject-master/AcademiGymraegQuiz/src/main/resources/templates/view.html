<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="ISO-8859-1">
<meta name="author" content="Sophie Jolley">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<title>Previous Test</title>
</head>
<body>
	<header class="p-3 bg-dark text-white">
		<div class="text-start">
			Test
			<a th:href="@{/}" type="button" class="btn btn-outline-light me-2">Home</a>
			<a th:href="@{/result}" type="button" class="btn btn-outline-light me-2">Tests</a>
		</div>
	</header>
	<div class="p-3">
	<!-- Displayed if user submitted the test -->
		<th:block th:if="${questions != null and questions.size() > 0}">
			<h2>Test ID: <span th:text="${questions[0].testId}"></span></h2>
			<p th:each="q : ${questions}">
			Question: <span th:text="${q.questionString}"></span><br/>
			Your answer: <span th:text="${q.answer}"></span><br/>
			<th:block th:if="${q.correct}">
			<span style="color:green">Well done, correct!</span>
			</th:block>
			<th:block th:if="${!q.correct}">
			<span style="color:red">Incorrect</span>
			</th:block>
			</p>
		
		</th:block>
		<!-- Displayed if the test was not submitted -->
		<th:block th:if="${questions == null || questions.size() == 0}">
			<p>This test was not submitted</p>
		</th:block>
	</div>
</body>
</html>